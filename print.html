<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="js-marathon-intro.html">JavaScript Marathon - Web Audio API</a></li><li class="chapter-item expanded affix "><li class="part-title">Main Info</li><li class="chapter-item expanded "><a href="what-is-web-audio-api/what-is-web-audio-api.html"><strong aria-hidden="true">1.</strong> What is the Web Audio API?</a></li><li class="chapter-item expanded "><a href="audio-context.html"><strong aria-hidden="true">2.</strong> Audio Context</a></li><li class="chapter-item expanded "><a href="oscillator-nodes.html"><strong aria-hidden="true">3.</strong> Oscillator Nodes</a></li><li class="chapter-item expanded "><a href="gain-nodes.html"><strong aria-hidden="true">4.</strong> Gain Nodes</a></li><li class="chapter-item expanded "><a href="wave-shaper-nodes.html"><strong aria-hidden="true">5.</strong> Wave Shaper Nodes</a></li><li class="chapter-item expanded affix "><li class="part-title">Other Audio Nodes</li><li class="chapter-item expanded "><a href="biquad-filter.html"><strong aria-hidden="true">6.</strong> Bi-Quad Filter</a></li><li class="chapter-item expanded affix "><li class="part-title">Template Repo for this Stack</li><li class="chapter-item expanded "><a href="starter.html"><strong aria-hidden="true">7.</strong> NextJS/Tailwind Starter</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="javascript-marathon"><a class="header" href="#javascript-marathon">JavaScript Marathon</a></h1>
<h2 id="web-audio-api"><a class="header" href="#web-audio-api">Web Audio API</a></h2>
<p>There are many ways to interact with the user in a web application. You could render data to the DOM, or even render 3D visuals using WebGL and the canvas element.</p>
<p>This repo shows a simple example of how to manipulate the <strong>Web Audio API</strong> to create sounds using the browser's built in synthesizer.</p>
<h2 id="stack"><a class="header" href="#stack">Stack</a></h2>
<ul>
<li>NextJS</li>
<li>TypeScript</li>
<li>ESLint/Prettier</li>
<li>TailwindCSS</li>
</ul>
<h2 id="important-links"><a class="header" href="#important-links">Important Links</a></h2>
<ul>
<li><a href="https://github.com/mastapegs/js-marathon-web-audio-api">Repo</a></li>
<li><a href="https://js-marathon-web-audio-api.netlify.app/">Deployment</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Simple_synth">VanillaJS Keyboard Example</a> from MDN</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-the-web-audio-api"><a class="header" href="#what-is-the-web-audio-api">What is the Web Audio API?</a></h1>
<p>From <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API">MDN</a></p>
<blockquote>
<p>&quot;The Web Audio API provides a powerful and versatile system for controlling audio on the Web, allowing developers to choose audio sources, add effects to audio, create audio visualizations, apply spatial effects (such as panning) and much more.&quot;</p>
</blockquote>
<p>The <strong>Web Audio API</strong> was designed to allow <em>modular routing</em>. What this means is that as the developer, you create and link together different <strong>audio nodes</strong> to create an <strong>audio routing graph</strong>.</p>
<p>Linking together different chains of audio nodes is what gives developers the flexibility to create complex audio effects.</p>
<h2 id="basic-workflow"><a class="header" href="#basic-workflow">Basic Workflow</a></h2>
<ol>
<li>Create audio context</li>
<li>Create audio sources within audio context (this repo uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/OscillatorNode">OscillatorNode</a>s)</li>
<li>Create effects, such as reverb, biquad filter, or gain</li>
<li>Select final destination for audio</li>
<li>Connect sources to effects and effects to destination</li>
</ol>
<p><img src="what-is-web-audio-api/./audio-context.png" alt="Web Audio API audio routing graph" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="audio-context"><a class="header" href="#audio-context">Audio Context</a></h1>
<p>The starting point for manipulating sounds with the Web Audio API is the Audio Context. Here is how to create one.</p>
<pre><code class="language-javascript">const audioContext = new (window.AudioContext || window.webkitAudioContext)();
</code></pre>
<p>We need the portion with <code>window.webkitAudioContext</code> in order to support Safari and older versions of chrome.</p>
<p>Generally speaking, your application should only ever have <a href="https://developers.google.com/web/updates/2012/01/Web-Audio-FAQ#q_how_many_audio_contexts_should_i_have">one</a> context per page. Since this application uses React, you'll find the Audio Context within the React Context that the app uses throughout the application.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="oscillator-nodes"><a class="header" href="#oscillator-nodes">Oscillator Nodes</a></h1>
<h2 id="main-types-of-oscillator-nodes"><a class="header" href="#main-types-of-oscillator-nodes">Main Types of Oscillator Nodes</a></h2>
<p>Oscillator Nodes come in 4 different <a href="https://developer.mozilla.org/en-US/docs/Web/API/OscillatorNode/type">OscillatorType</a>'s</p>
<ul>
<li><strong>sine</strong>: the default value, these are pure, single-frequency, sound waves</li>
<li><strong>triangle</strong>: made up of an infinite set of odd harmonic sine waves</li>
<li><strong>square</strong>: also made up of an infinite set of odd harmonic sine waves, with upper harmonic amplitudes higher than triangle waves.</li>
<li><strong>sawtooth</strong>: made up of an infinite set of harmonic sine waves waves.</li>
</ul>
<p>As you go down the list, the different waves make progressively &quot;buzzier&quot; sounds as the waveforms become made up of more and more sound waves.</p>
<h2 id="how-to-create-an-oscillator-node"><a class="header" href="#how-to-create-an-oscillator-node">How to create an Oscillator Node</a></h2>
<pre><code class="language-typescript">const audioContext = new (window.AudioContext || window.webkitAudioContext)();
const sinewave = audioContext.createOscillator();
sinewave.type = &quot;sine&quot;;
sinewave.frequency.value = 440; // A4
sinewave.start();
// sinewave.stop();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gain-nodes"><a class="header" href="#gain-nodes">Gain Nodes</a></h1>
<h2 id="what-are-gain-nodes"><a class="header" href="#what-are-gain-nodes">What are Gain Nodes?</a></h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/GainNode">Gain nodes</a> are responsible for manipulating the amplitude of audio sources.</p>
<h2 id="how-to-create-and-use-a-gain-node"><a class="header" href="#how-to-create-and-use-a-gain-node">How to create and use a Gain Node</a></h2>
<pre><code class="language-typescript">const audioContext = new (window.AudioContext || window.webkitAudioContext)();

// Create sine OscillatorNode
const sinewave = audioContext.createOscillator();
sinewave.type = &quot;sine&quot;;
sinewave.frequency.value = 440; // A4

// Create and create audio node chain
// OscillatorNode -&gt; GainNode -&gt; Destination
const gainNode = audioContext.createGain();
gainNode.gain.value = 0.5;
sinewave.connect(gainNode)
gainNode.connect(audioContext.destination);

sinewave.start();
</code></pre>
<p>This app connects every single OscillatorNode created by the keyboard to a single GainNode which controls the volume of them all.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wave-shaper-nodes"><a class="header" href="#wave-shaper-nodes">Wave Shaper Nodes</a></h1>
<h2 id="what-are-wave-shaper-nodes"><a class="header" href="#what-are-wave-shaper-nodes">What are Wave Shaper Nodes?</a></h2>
<p>According to MDN:</p>
<blockquote>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/WaveShaperNode">WaveShaperNode</a> interface represents a non-linear distorter. It is an AudioNode that uses a curve to apply a wave shaping distortion to the signal.</p>
</blockquote>
<h2 id="where-is-this-used"><a class="header" href="#where-is-this-used">Where is this used?</a></h2>
<p>This application uses the <code>WaveShaperNode</code> interface as part of the synthesis of the snare drum. It's used to gradually lower the amplitude of the pair of triangle waves used to generate the snare.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bi-quad-filter"><a class="header" href="#bi-quad-filter">Bi-Quad Filter</a></h1>
<h2 id="what-is-the-bi-quad-filter"><a class="header" href="#what-is-the-bi-quad-filter">What is the Bi-Quad Filter</a></h2>
<p>MDN says:</p>
<blockquote>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode">BiquadFilterNode</a> interface represents a simple low-order filter, and is created using the BaseAudioContext/createBiquadFilter method. It is an <code>AudioNode</code> that can represent different kinds of filters, tone control devices, and graphic equalizers.</p>
</blockquote>
<p>This app used the <code>WaveShaperNode</code> to help synthesize the snare drum, but the Biquad Filter could have been used as well.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nextjstailwind-starter"><a class="header" href="#nextjstailwind-starter">NextJS/Tailwind Starter</a></h1>
<p>If you would like to get a fast start on using this stack, fork my repo and get started with a working &quot;Hello, World!&quot; template today!</p>
<p>Tools included:</p>
<ul>
<li>NextJS</li>
<li>TailwindCSS</li>
<li>ESLint/Prettier</li>
<li>Husky pre-commit linting</li>
</ul>
<p>Repo: <a href="https://github.com/mastapegs/linted-nextjs-tailwind-starter">https://github.com/mastapegs/linted-nextjs-tailwind-starter</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
